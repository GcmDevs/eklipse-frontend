<div class="wrapper page-container-wrapper">
  <!-- Sidebar -->
  <app-sidebar [open]="sidebarOpen" (closed)="closeSidebar()" />

  <!-- Topbar con breadcrumbs integrados -->
  <header class="module-topbar">
    <div class="topbar-left-group">
      <!-- Abrir sidebar -->
      <button class="home-link" aria-label="Abrir menÃº" (click)="openSidebar()">
        <lucide-icon [img]="icons.Menu" [size]="18" />
      </button>

      <div class="topbar-divider"></div>

      <!-- Breadcrumbs en el topbar -->
      <nav class="topbar-breadcrumbs" aria-label="Ruta de navegacion">
        <span class="topbar-bc-segment">
          <a class="topbar-bc-link">Modulos</a>
          <lucide-icon [img]="icons.ChevronRight" [size]="14" class="topbar-bc-sep" />
        </span>
        <span class="topbar-bc-segment">
          <a class="topbar-bc-link">{{ module() }}</a>
          <lucide-icon [img]="icons.ChevronRight" [size]="14" class="topbar-bc-sep" />
        </span>
        <span class="topbar-bc-segment">
          <a class="topbar-bc-link">{{ subModule() }}</a>
          <lucide-icon [img]="icons.ChevronRight" [size]="14" class="topbar-bc-sep" />
        </span>
        <span class="topbar-bc-segment">
          <span class="topbar-bc-current">{{ route() }}</span>
        </span>
      </nav>
    </div>

    <div class="topbar-right-group">
      <a [routerLink]="homeHref" class="menu-button">
        <lucide-icon [img]="icons.LayoutGrid" [size]="16" />
        Volver al menu
      </a>
    </div>
  </header>

  <!-- Contenido principal -->
  <main class="main">
    <router-outlet />
  </main>
</div>
